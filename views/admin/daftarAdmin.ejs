<%- include('./partials/topTemplate') %>

<!-- Begin Page Content -->
<div class="container-fluid">

    <% if (alerts.length > 0) { %>
        <% alerts.forEach(alert => { %>
            <% if (alert.statusCode > 200) { %>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <%= error.msg %>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            <% } else {%>
        <% }) %>
    <% } %>

  <!-- Content Row -->
  <div class="row">
    <div class="container-fluid">
      <div class="card">
        <div class="card-body">
          <h1>
            Daftar Administrator
          </h1>
          <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Nama</th>
                        <th>Username</th>
                        <th>Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    <% let i = 1 %>
                    <% data.forEach(admin => { %>
                    <tr>                   
                        <td><%= i++ %></td>
                        <td><%= admin.nama %></td>
                        <td><%= admin.username %></td>
                        <td>
                            <a href="" data-toggle="tooltip" data-placement="top" title="Ubah data" class="btn btn-success btn-sm"><i class="fa fa-edit"></i></a>
                            <a href="" data-toggle="tooltip" data-placement="top" title="Ubah password" class="btn btn-warning btn-sm"><i class="fa fa-lock"></i></a>
                            <a href="" data-toggle="tooltip" data-placement="top" title="Hapus data" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i></a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
              </table>
          </div>
          </div>
          <% if (totalPage > 0) { %>
              <ul class="pagination justify-content-center">
                  <% if (currentPage == 1) { %>
                      <li class="page-item disabled">
                          <a class="page-link">First</a>
                      </li>
                  <% } else { %>
                      <li class="page-item">
                          <a class="page-link" href="<%= baseUrl %>/admin/daftar?page=1">First</a>
                      </li>
                  <% } %>
                  <% let i = (currentPage > 5) ? currentPage - 4 : 1 %>
                  <% if (i !== 1) { %>
                      <li class="page-item disabled">
                          <a class="page-link">...</a>
                      </li>
                  <% } %>
                  <% for (; ((i <= currentPage + 4) && (i <= totalPage)); i++) { %>
                      <% if (i == currentPage) { %>
                          <li class="page-item active">
                              <a class="page-link"><%= i %></a>
                          </li>
                      <% } else { %>
                          <li class="page-item">
                              <a class="page-link" href="<%= baseUrl %>/admin/daftar?page=<%= i%>"><%= i %></a>
                          </li>
                      <% } %>
                      <% if ((i == currentPage + 4) && (i < totalPage)) { %>
                          <li class="page-item disabled">
                              <a class="page-link">...</a>
                          </li>
                      <% } %>
                  <% } %>
                  <% if (currentPage == totalPage) { %>
                      <li class="page-item disabled">
                          <a class="page-link">Last</a>
                      </li>
                  <% } else { %>
                      <li class="page-item">
                          <a class="page-link" href="<%= baseUrl %>/admin/daftar?page=<%= totalPage %>">Last</a>
                      </li>
                  <% } %>
              </ul>
          <% } %>
        </div>
        </div>
      </div>
    </div>
  </div>

</div>
<!-- /.container-fluid -->

<%- include('./partials/bottomTemplate') %>